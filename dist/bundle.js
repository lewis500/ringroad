(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var Car, Ctrl, S, Traffic, _, angular, d3, ref, visDer;

angular = require('angular');

d3 = require('d3');

_ = require('lodash');

S = require('./settings');

ref = require('./models'), Car = ref.Car, Traffic = ref.Traffic;

Ctrl = (function() {
  function Ctrl(scope, el) {
    this.scope = scope;
    _.assign(this, {
      paused: true,
      colors: S.colors,
      traffic: new Traffic,
      pal: _.range(0, 360, 20),
      cars: _.range(S.num_cars).map(function(n) {
        return new Car(S.distance);
      })
    });
    this.day_start();
  }

  Ctrl.prototype.rotator = function(car) {
    return "rotate(" + car.loc + ")";
  };

  Ctrl.prototype.tran = function(tran) {
    return tran.transition().duration(S.pace);
  };

  Ctrl.prototype.day_start = function() {
    S.reset_time();
    this.physics = true;
    this.traffic.reset(this.cars);
    _.invoke(this.cars, 'assign_error');
    return this.tick();
  };

  Ctrl.prototype.day_end = function() {
    this.physics = false;
    _.invoke(this.cars, 'eval_cost');
    _.sample(this.cars, 25).forEach(function(d) {
      return d.choose();
    });
    return setTimeout((function(_this) {
      return function() {
        return _this.day_start();
      };
    })(this));
  };

  Ctrl.prototype.click = function(val) {
    if (!val) {
      return this.play();
    }
  };

  Ctrl.prototype.pause = function() {
    return this.paused = true;
  };

  Ctrl.prototype.tick = function() {
    if (this.physics) {
      return d3.timer((function(_this) {
        return function() {
          if (_this.traffic.done()) {
            _this.day_end();
            true;
          }
          S.advance();
          _this.traffic.update();
          _this.scope.$evalAsync();
          if (!_this.paused) {
            _this.tick();
          }
          return true;
        };
      })(this), S.pace * 1000);
    }
  };

  Ctrl.prototype.play = function() {
    this.pause();
    d3.timer.flush();
    this.paused = false;
    return this.tick();
  };

  return Ctrl;

})();

visDer = function() {
  var directive;
  return directive = {
    scope: {},
    controllerAs: 'vm',
    templateUrl: './dist/vis.html',
    controller: ['$scope', '$element', Ctrl]
  };
};

angular.module('mainApp', [require('angular-material')]).directive('visDer', visDer).directive('datum', require('./directives/datum')).directive('d3Der', require('./directives/d3Der')).directive('cumChart', require('./cumChart'));



},{"./cumChart":2,"./directives/d3Der":3,"./directives/datum":4,"./models":5,"./settings":6,"angular":undefined,"angular-material":undefined,"d3":undefined,"lodash":undefined}],2:[function(require,module,exports){
var Ctrl, S, _, d3, der;

d3 = require('d3');

_ = require('lodash');

S = require('./settings');

Ctrl = (function() {
  function Ctrl(scope, el) {
    this.scope = scope;
    _.assign(this, {
      width: 300,
      height: 300,
      m: {
        t: 10,
        l: 20,
        r: 10,
        b: 20
      }
    });
    this.hor = d3.scale.linear().domain([0, S.rush_length]).range([0, this.width]);
    this.ver = d3.scale.linear().domain([0, S.num_cars]).range([this.height, 0]);
    this.lineEn = d3.svg.line().x((function(_this) {
      return function(d) {
        return _this.hor(d.time);
      };
    })(this)).y((function(_this) {
      return function(d) {
        return _this.ver(d.cumEn);
      };
    })(this));
    this.lineEx = d3.svg.line().x((function(_this) {
      return function(d) {
        return _this.hor(d.time);
      };
    })(this)).y((function(_this) {
      return function(d) {
        return _this.ver(d.cumEx);
      };
    })(this));
  }

  Ctrl.prototype.ex = function() {
    return this.lineEx(this.cum);
  };

  Ctrl.prototype.en = function() {
    return this.lineEn(this.cum);
  };

  return Ctrl;

})();

der = function() {
  var directive;
  return directive = {
    bindToController: true,
    controllerAs: 'vm',
    scope: {
      cum: '='
    },
    templateUrl: './dist/chart.html',
    controller: ['$scope', '$element', Ctrl]
  };
};

module.exports = der;



},{"./settings":6,"d3":undefined,"lodash":undefined}],3:[function(require,module,exports){
var angular, d3, der;

d3 = require('d3');

angular = require('angular');

der = function($parse) {
  var directive;
  return directive = {
    restrict: 'A',
    scope: {
      d3Der: '=',
      tran: '='
    },
    link: function(scope, el, attr) {
      var hasTransitioned, sel, u;
      sel = d3.select(el[0]);
      u = 't-' + Math.random();
      hasTransitioned = false;
      return scope.$watch('d3Der', function(v) {
        if (scope.tran && hasTransitioned) {
          hasTransitioned = true;
          return sel.transition(u).attr(v).call(scope.tran);
        } else {
          hasTransitioned = true;
          return sel.attr(v);
        }
      }, true);
    }
  };
};

module.exports = der;



},{"angular":undefined,"d3":undefined}],4:[function(require,module,exports){
module.exports = function($parse) {
  return function(scope, el, attr) {
    return d3.select(el[0]).datum($parse(attr.datum)(scope));
  };
};



},{}],5:[function(require,module,exports){
var Car, S, Traffic, _;

S = require('./settings');

_ = require('lodash');

Traffic = (function() {
  function Traffic() {}

  Traffic.prototype.reset = function(waiting) {
    var ref;
    return ref = [[], [], 0, 0, _.clone(waiting)], this.traveling = ref[0], this.cum = ref[1], this.cumEn = ref[2], this.cumEx = ref[3], this.waiting = ref[4], ref;
  };

  Traffic.prototype.done = function() {
    return (this.waiting.length + this.traveling.length) === 0;
  };

  Traffic.prototype.log = function() {
    return this.cum.push({
      time: S.time,
      cumEn: this.cumEn,
      cumEx: this.cumEx
    });
  };

  Traffic.prototype.receive = function(car) {
    var g0, loc;
    _.remove(this.waiting, car);
    this.cumEn++;
    loc = _.random(0, 359);
    g0 = 0;
    _.forEach(this.traveling, function(c) {
      var g;
      g = c.get_gap();
      if (_.gte(g, S.space) && _.gt(g, g0)) {
        loc = (c.loc + g / 2) % 360;
        return g0 = g;
      }
    });
    loc = (loc + _.random(-1, 1)) % 360;
    car.enter(loc);
    this.traveling.push(car);
    return this.order_cars();
  };

  Traffic.prototype.remove = function(car) {
    this.cumEx++;
    return _.remove(this.traveling, car);
  };

  Traffic.prototype.update = function() {
    this.waiting.forEach((function(_this) {
      return function(car) {
        if (_.lt(car.t_en, S.time)) {
          return _this.receive(car);
        }
      };
    })(this));
    this.traveling.forEach((function(_this) {
      return function(car) {
        car.move();
        if (car.exited) {
          return _this.remove(car);
        }
      };
    })(this));
    this.log();
    return this.order_cars();
  };

  Traffic.prototype.order_cars = function() {
    var l;
    if ((l = this.traveling.length) > 1) {
      this.traveling.sort(function(a, b) {
        return a.loc - b.loc;
      });
      return this.traveling.forEach(function(car, i, k) {
        return car.set_next(k[(i + 1) % l]);
      });
    }
  };

  return Traffic;

})();

Car = (function() {
  function Car(distance) {
    this.distance = distance;
    _.assign(this, {
      id: _.uniqueId(),
      cost0: Infinity,
      target: _.random(2, S.rush_length - S.distance - 10),
      exited: false
    });
  }

  Car.prototype.assign_error = function() {
    return this.t_en = this.target + _.random(-2, 2);
  };

  Car.prototype.set_next = function(next) {
    this.next = next;
  };

  Car.prototype.set_destination = function(destination) {
    this.destination = destination;
  };

  Car.prototype.get_gap = function() {
    var gap;
    if (!this.next) {
      return 180;
    }
    gap = this.next.loc - this.loc;
    if (_.lte(gap, 0)) {
      return _.add(gap, 360);
    } else {
      return gap;
    }
  };

  Car.prototype.exit = function() {
    var ref;
    return ref = [void 0, S.time, true], this.next = ref[0], this.t_ex = ref[1], this.exited = ref[2], ref;
  };

  Car.prototype.eval_cost = function() {
    this.sd = this.t_ex - S.wish;
    this.sp = Math.max(-S.beta * this.sd, S.gamma * this.sd);
    this.tt = this.t_ex - this.t_en;
    return this.cost = this.tt + this.sp;
  };

  Car.prototype.choose = function() {
    var ref;
    if (_.lte(this.cost, this.cost0)) {
      return ref = [this.cost, this.t_en], this.cost0 = ref[0], this.target = ref[1], ref;
    }
  };

  Car.prototype.enter = function(loc1) {
    var ref;
    this.loc = loc1;
    this.set_destination((this.loc + this.distance) % 360);
    return ref = [this.cost, false, 0, S.colors(this.destination)], this.cost0 = ref[0], this.exited = ref[1], this.stopped = ref[2], this.color = ref[3], ref;
  };

  Car.prototype.move = function() {
    if (this.stopped > 0) {
      return this.stopped--;
    } else {
      if (_.gte(this.get_gap(), S.space)) {
        if ((this.loc = _.add(this.loc, 1) % 360) === this.destination) {
          return this.exit();
        }
      } else {
        return this.stopped = S.stopping_time;
      }
    }
  };

  return Car;

})();

module.exports = {
  Car: Car,
  Traffic: Traffic
};



},{"./settings":6,"lodash":undefined}],6:[function(require,module,exports){
var S, colors, d3;

d3 = require('d3');

colors = d3.scale.linear().domain([0, 60, 120, 180, 240]).range(['#F44336', '#E91E63', '#2196F3', '#00BCD4', '#4CAF50']);

S = {
  num_cars: 60,
  time: 0,
  space: 5,
  pace: .025,
  stopping_time: 6,
  distance: 28,
  beta: .5,
  gamma: 2,
  rush_length: 100,
  wish: 50,
  day: 0,
  advance: function() {
    return this.time++;
  },
  reset_time: function() {
    return this.time = 0;
  },
  colors: colors
};

module.exports = S;



},{"d3":undefined}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvbGV3aXMvUmVzZWFyY2gvcmluZ3JvYWQvYXBwL2FwcC5jb2ZmZWUiLCIvVXNlcnMvbGV3aXMvUmVzZWFyY2gvcmluZ3JvYWQvYXBwL2N1bUNoYXJ0LmNvZmZlZSIsIi9Vc2Vycy9sZXdpcy9SZXNlYXJjaC9yaW5ncm9hZC9hcHAvZGlyZWN0aXZlcy9kM0Rlci5jb2ZmZWUiLCIvVXNlcnMvbGV3aXMvUmVzZWFyY2gvcmluZ3JvYWQvYXBwL2RpcmVjdGl2ZXMvZGF0dW0uY29mZmVlIiwiL1VzZXJzL2xld2lzL1Jlc2VhcmNoL3Jpbmdyb2FkL2FwcC9tb2RlbHMuY29mZmVlIiwiL1VzZXJzL2xld2lzL1Jlc2VhcmNoL3Jpbmdyb2FkL2FwcC9zZXR0aW5ncy5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxJQUFBOztBQUFBLE9BQUEsR0FBVSxPQUFBLENBQVEsU0FBUjs7QUFDVixFQUFBLEdBQUssT0FBQSxDQUFRLElBQVI7O0FBQ0wsQ0FBQSxHQUFJLE9BQUEsQ0FBUSxRQUFSOztBQUNKLENBQUEsR0FBSSxPQUFBLENBQVEsWUFBUjs7QUFDSixNQUFnQixPQUFBLENBQVEsVUFBUixDQUFoQixFQUFDLFVBQUEsR0FBRCxFQUFLLGNBQUE7O0FBRUM7RUFDTyxjQUFDLEtBQUQsRUFBUSxFQUFSO0lBQUMsSUFBQyxDQUFBLFFBQUQ7SUFDWixDQUFDLENBQUMsTUFBRixDQUFTLElBQVQsRUFDQztNQUFBLE1BQUEsRUFBUSxJQUFSO01BQ0EsTUFBQSxFQUFRLENBQUMsQ0FBQyxNQURWO01BRUEsT0FBQSxFQUFTLElBQUksT0FGYjtNQUdBLEdBQUEsRUFBSyxDQUFDLENBQUMsS0FBRixDQUFRLENBQVIsRUFBVSxHQUFWLEVBQWMsRUFBZCxDQUhMO01BSUEsSUFBQSxFQUFNLENBQUMsQ0FBQyxLQUFGLENBQVEsQ0FB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Ozs7QUNuR0QsSUFBQTs7QUFBQSxFQUFBLEdBQUssT0FBQSxDQUFRLElBQVI7O0FBQ0wsTUFBQSxHQUFTLEVBQUUsQ0FBQyxLQUFLLENBQUMsTUFBVCxDQUFBLENBQ1AsQ0FBQyxNQURNLENBQ0MsQ0FBQyxDQUFELEVBQUksRUFBSixFQUFRLEdBQVIsRUFBYSxHQUFiLEVBQWtCLEdBQWxCLENBREQsQ0FFUCxDQUFDLEtBRk0sQ0FFQSxDQUNOLFNBRE0sRUFFTixTQUZNLEVBR04sU0FITSxFQUlOLFNBSk0sRUFLTixTQUxNLENBRkE7O0FBVVQsQ0FBQSxHQUNDO0VBQUEsUUFBQSxFQUFVLEVBQVY7RUFDQSxJQUFBLEVBQU0sQ0FETjtFQUVBLEtBQUEsRUFBTyxDQUZQO0VBR0EsSUFBQSxFQUFNLElBSE47RUFJQSxhQUFBLEVBQWUsQ0FKZjtFQUtBLFFBQUEsRUFBVSxFQUxWO0VBTUEsSUFBQSxFQUFNLEVBTk47RUFPQSxLQUFBLEVBQU8sQ0FQUDtFQVFBLFdBQUEsRUFBYSxHQVJiO0VBU0EsSUFBQSxFQUFNLEVBVE47RUFVQSxHQUFBLEVBQUssQ0FWTDtFQVdBLE9BQUEsRUFBUyxTQUFBO1dBQ1IsSUFBQyxDQUFBLElBQUQ7RUFEUSxDQVhUO0VBYUEsVUFBQSxFQUFZLFNBQUE7V0FDWCxJQUFDLENBQUEsSUFBRCxHQUFRO0VBREcsQ0FiWjtFQWVBLE1BQUEsRUFBUSxNQWZSOzs7QUFpQkQsTUFBTSxDQUFDLE9BQVAsR0FBaUIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiYW5ndWxhciA9IHJlcXVpcmUgJ2FuZ3VsYXInXG5kMyA9IHJlcXVpcmUgJ2QzJ1xuXyA9IHJlcXVpcmUgJ2xvZGFzaCdcblMgPSByZXF1aXJlICcuL3NldHRpbmdzJ1xue0NhcixUcmFmZmljfSA9IHJlcXVpcmUgJy4vbW9kZWxzJ1xuXG5jbGFzcyBDdHJsXG5cdGNvbnN0cnVjdG9yOihAc2NvcGUsZWwpLT5cblx0XHRfLmFzc2lnbiB0aGlzLFxuXHRcdFx0cGF1c2VkOiB0cnVlXG5cdFx0XHRjb2xvcnM6IFMuY29sb3JzXG5cdFx0XHR0cmFmZmljOiBuZXcgVHJhZmZpY1xuXHRcdFx0cGFsOiBfLnJhbmdlIDAsMzYwLDIwXG5cdFx0XHRjYXJzOiBfLnJhbmdlIFMubnVtX2NhcnNcblx0XHRcdFx0XHQubWFwIChuKS0+IFx0bmV3IENhciBTLmRpc3RhbmNlXG5cdFx0QGRheV9zdGFydCgpXG5cblx0cm90YXRvcjogKGNhciktPiBcInJvdGF0ZSgje2Nhci5sb2N9KVwiXG5cdHRyYW46ICh0cmFuKS0+IHRyYW4udHJhbnNpdGlvbigpLmR1cmF0aW9uIFMucGFjZVxuXG5cdGRheV9zdGFydDogLT5cblx0XHRTLnJlc2V0X3RpbWUoKVxuXHRcdEBwaHlzaWNzID0gdHJ1ZSAjcGh5c2ljcyBzdGFnZSBoYXBwZW5pbmdcblx0XHRAdHJhZmZpYy5yZXNldCBAY2Fyc1xuXHRcdF8uaW52b2tlIEBjYXJzLCAnYXNzaWduX2Vycm9yJ1xuXHRcdEB0aWNrKClcblxuXHRkYXlfZW5kOiAtPlxuXHRcdEBwaHlzaWNzID0gZmFsc2UgI3BoeXNpY3Mgc3RhZ2Ugbm90IGhhcHBlbmluZ1xuXHRcdF8uaW52b2tlIEBjYXJzLCAnZXZhbF9jb3N0J1xuXHRcdF8uc2FtcGxlIEBjYXJzLCAyNVxuXHRcdFx0LmZvckVhY2ggKGQpLT4gZC5jaG9vc2UoKVxuXG5cdFx0c2V0VGltZW91dCA9PiBAZGF5X3N0YXJ0KClcblxuXHRjbGljazoodmFsKSAtPiBpZiAhdmFsIHRoZW4gQHBsYXkoKVxuXHRwYXVzZTogLT4gQHBhdXNlZCA9IHRydWVcblx0dGljazogLT5cblx0XHRpZiBAcGh5c2ljc1xuXHRcdFx0ZDMudGltZXIgPT5cblx0XHRcdFx0XHRpZiBAdHJhZmZpYy5kb25lKClcblx0XHRcdFx0XHRcdEBkYXlfZW5kKClcblx0XHRcdFx0XHRcdHRydWVcblx0XHRcdFx0XHRTLmFkdmFuY2UoKVxuXHRcdFx0XHRcdEB0cmFmZmljLnVwZGF0ZSgpXG5cdFx0XHRcdFx0QHNjb3BlLiRldmFsQXN5bmMoKVxuXHRcdFx0XHRcdGlmICFAcGF1c2VkIHRoZW4gQHRpY2soKVxuXHRcdFx0XHRcdHRydWVcblx0XHRcdFx0LCBTLnBhY2UqMTAwMFxuXG5cdHBsYXk6IC0+XG5cdFx0QHBhdXNlKClcblx0XHRkMy50aW1lci5mbHVzaCgpXG5cdFx0QHBhdXNlZCA9IGZhbHNlXG5cdFx0QHRpY2soKVxuXG52aXNEZXIgPSAtPlxuXHRkaXJlY3RpdmUgPSBcblx0XHRzY29wZToge31cblx0XHRjb250cm9sbGVyQXM6ICd2bSdcblx0XHR0ZW1wbGF0ZVVybDogJy4vZGlzdC92aXMuaHRtbCdcblx0XHRjb250cm9sbGVyOiBbJyRzY29wZScsICckZWxlbWVudCcsIEN0cmxdXG5cbmFuZ3VsYXIubW9kdWxlICdtYWluQXBwJyAsIFtyZXF1aXJlICdhbmd1bGFyLW1hdGVyaWFsJ11cblx0LmRpcmVjdGl2ZSAndmlzRGVyJywgdmlzRGVyXG5cdC5kaXJlY3RpdmUgJ2RhdHVtJywgcmVxdWlyZSAnLi9kaXJlY3RpdmVzL2RhdHVtJ1xuXHQuZGlyZWN0aXZlICdkM0RlcicsIHJlcXVpcmUgJy4vZGlyZWN0aXZlcy9kM0Rlcidcblx0LmRpcmVjdGl2ZSAnY3VtQ2hhcnQnLCByZXF1aXJlICcuL2N1bUNoYXJ0J1xuIiwiZDMgPSByZXF1aXJlICdkMydcbl8gPSByZXF1aXJlICdsb2Rhc2gnXG5TID0gcmVxdWlyZSAnLi9zZXR0aW5ncydcblxuXG5jbGFzcyBDdHJsXG5cdGNvbnN0cnVjdG9yOihAc2NvcGUsZWwpLT5cblx0XHRfLmFzc2lnbiB0aGlzLFxuXHRcdFx0d2lkdGg6IDMwMFxuXHRcdFx0aGVpZ2h0OiAzMDBcblx0XHRcdG06IFxuXHRcdFx0XHR0OiAxMFxuXHRcdFx0XHRsOiAyMFxuXHRcdFx0XHRyOiAxMFxuXHRcdFx0XHRiOiAyMFxuXG5cdFx0QGhvciA9IGQzLnNjYWxlLmxpbmVhcigpXG5cdFx0XHRcdC5kb21haW4gWzAsUy5ydXNoX2xlbmd0aF1cblx0XHRcdFx0LnJhbmdlIFswLEB3aWR0aF1cblxuXHRcdEB2ZXIgPSBkMy5zY2FsZS5saW5lYXIoKVxuXHRcdFx0LmRvbWFpbiBbMCwgUy5udW1fY2Fyc11cblx0XHRcdC5yYW5nZSBbQGhlaWdodCwgMF1cblxuXHRcdEBsaW5lRW4gPSBkMy5zdmcubGluZSgpXG5cdFx0XHQueCAoZCk9PkBob3IgZC50aW1lXG5cdFx0XHQueSAoZCk9PkB2ZXIgZC5jdW1FblxuXG5cdFx0QGxpbmVFeCA9IGQzLnN2Zy5saW5lKClcblx0XHRcdC54IChkKT0+QGhvciBkLnRpbWVcblx0XHRcdC55IChkKT0+QHZlciBkLmN1bUV4XG5cblx0ZXg6IC0+XG5cdFx0QGxpbmVFeCBAY3VtXG5cdGVuOiAtPlxuXHRcdEBsaW5lRW4gQGN1bVxuXHRcbmRlciA9IC0+XG5cdGRpcmVjdGl2ZSA9IFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0XHRjb250cm9sbGVyQXM6ICd2bSdcblx0XHRzY29wZTogXG5cdFx0XHRjdW06ICc9J1xuXHRcdHRlbXBsYXRlVXJsOiAnLi9kaXN0L2NoYXJ0Lmh0bWwnXG5cdFx0Y29udHJvbGxlcjogWyckc2NvcGUnLCAnJGVsZW1lbnQnLCBDdHJsXVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRlciIsImQzID0gcmVxdWlyZSAnZDMnXG5hbmd1bGFyID0gcmVxdWlyZSAnYW5ndWxhcidcblxuZGVyID0gKCRwYXJzZSktPiAjZ29lcyBvbiBhIHN2ZyBlbGVtZW50XG5cdGRpcmVjdGl2ZSA9IFxuXHRcdHJlc3RyaWN0OiAnQSdcblx0XHRzY29wZTogXG5cdFx0XHRkM0RlcjogJz0nXG5cdFx0XHR0cmFuOiAnPSdcblx0XHRsaW5rOiAoc2NvcGUsIGVsLCBhdHRyKS0+XG5cdFx0XHRzZWwgPSBkMy5zZWxlY3QgZWxbMF1cblx0XHRcdHUgPSAndC0nICsgTWF0aC5yYW5kb20oKVxuXHRcdFx0aGFzVHJhbnNpdGlvbmVkID0gZmFsc2Vcblx0XHRcdHNjb3BlLiR3YXRjaCAnZDNEZXInXG5cdFx0XHRcdCwgKHYpLT5cblx0XHRcdFx0XHRpZiBzY29wZS50cmFuIGFuZCBoYXNUcmFuc2l0aW9uZWRcblx0XHRcdFx0XHRcdGhhc1RyYW5zaXRpb25lZCA9IHRydWVcblx0XHRcdFx0XHRcdHNlbC50cmFuc2l0aW9uIHVcblx0XHRcdFx0XHRcdFx0LmF0dHIgdlxuXHRcdFx0XHRcdFx0XHQuY2FsbCBzY29wZS50cmFuXG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0aGFzVHJhbnNpdGlvbmVkID0gdHJ1ZVxuXHRcdFx0XHRcdFx0c2VsLmF0dHIgdlxuXHRcdFx0XHQsIHRydWVcbm1vZHVsZS5leHBvcnRzID0gZGVyIiwibW9kdWxlLmV4cG9ydHMgPSAoJHBhcnNlKS0+XG5cdChzY29wZSwgZWwsIGF0dHIpLT5cblx0XHRkMy5zZWxlY3QoZWxbMF0pLmRhdHVtICRwYXJzZShhdHRyLmRhdHVtKShzY29wZSkiLCJTID0gcmVxdWlyZSAnLi9zZXR0aW5ncydcbl8gPSByZXF1aXJlICdsb2Rhc2gnXG5cbmNsYXNzIFRyYWZmaWNcblx0Y29uc3RydWN0b3I6IC0+XG5cblx0cmVzZXQ6KHdhaXRpbmcpLT5cblx0XHRbQHRyYXZlbGluZywgQGN1bSwgQGN1bUVuLCBAY3VtRXgsQHdhaXRpbmddID0gW1tdLFtdLCAwLCAwLCBfLmNsb25lKHdhaXRpbmcpXVxuXG5cdGRvbmU6IC0+XG5cdFx0KEB3YWl0aW5nLmxlbmd0aCtAdHJhdmVsaW5nLmxlbmd0aCk9PTBcblxuXHRsb2c6IC0+XG5cdFx0QGN1bS5wdXNoXG5cdFx0XHR0aW1lOiBTLnRpbWVcblx0XHRcdGN1bUVuOiBAY3VtRW5cblx0XHRcdGN1bUV4OiBAY3VtRXhcblxuXHRyZWNlaXZlOiAoY2FyKS0+XG5cdFx0Xy5yZW1vdmUgQHdhaXRpbmcsIGNhclxuXHRcdEBjdW1FbisrXG5cdFx0bG9jID0gXy5yYW5kb20gMCwzNTlcblx0XHRnMCA9IDBcblx0XHRfLmZvckVhY2ggQHRyYXZlbGluZywgKGMpLT5cblx0XHRcdGcgPSBjLmdldF9nYXAoKVxuXHRcdFx0aWYgXy5ndGUoZywgUy5zcGFjZSkgYW5kIF8uZ3QoZyxnMClcblx0XHRcdFx0bG9jID0gKGMubG9jICsgZy8yKSUzNjBcblx0XHRcdFx0ZzAgPSBnXG5cdFx0bG9jID0gKGxvYyArIF8ucmFuZG9tIC0xLDEpICUzNjBcblx0XHRjYXIuZW50ZXIgbG9jXG5cdFx0QHRyYXZlbGluZy5wdXNoIGNhclxuXHRcdEBvcmRlcl9jYXJzKClcblxuXHRyZW1vdmU6IChjYXIpLT5cblx0XHRAY3VtRXgrK1xuXHRcdF8ucmVtb3ZlIEB0cmF2ZWxpbmcsIGNhclxuXG5cdHVwZGF0ZTogLT5cblx0XHRAd2FpdGluZy5mb3JFYWNoIChjYXIpPT5cblx0XHRcdGlmIF8ubHQgY2FyLnRfZW4sUy50aW1lIHRoZW4gQHJlY2VpdmUgY2FyXG5cdFx0QHRyYXZlbGluZy5mb3JFYWNoIChjYXIpPT5cblx0XHRcdGNhci5tb3ZlKClcblx0XHRcdGlmIGNhci5leGl0ZWQgdGhlbiBAcmVtb3ZlIGNhclxuXG5cdFx0QGxvZygpXG5cblx0XHRAb3JkZXJfY2FycygpXG5cblx0b3JkZXJfY2FyczogLT5cblx0XHRpZiAobCA9IEB0cmF2ZWxpbmcubGVuZ3RoKSA+IDFcblx0XHRcdEB0cmF2ZWxpbmcuc29ydCAoYSxiKS0+IGEubG9jIC0gYi5sb2Ncblx0XHRcdEB0cmF2ZWxpbmcuZm9yRWFjaCAoY2FyLGksayktPlxuXHRcdFx0XHRjYXIuc2V0X25leHQga1soaSsxKSVsXVxuXG5jbGFzcyBDYXJcblx0Y29uc3RydWN0b3I6KEBkaXN0YW5jZSktPlxuXHRcdF8uYXNzaWduIHRoaXMsXG5cdFx0XHRpZDogXy51bmlxdWVJZCgpXG5cdFx0XHRjb3N0MDogSW5maW5pdHkgXG5cdFx0XHR0YXJnZXQ6IF8ucmFuZG9tIDIsIFMucnVzaF9sZW5ndGggLSBTLmRpc3RhbmNlIC0gMTBcblx0XHRcdGV4aXRlZDogZmFsc2VcblxuXHRhc3NpZ25fZXJyb3I6LT4gXG5cdFx0QHRfZW4gPSBAdGFyZ2V0ICsgXy5yYW5kb20gLTIsMlxuXG5cdCMgc2V0dGVyc1xuXHRzZXRfbmV4dDogKEBuZXh0KS0+XG5cdHNldF9kZXN0aW5hdGlvbjogKEBkZXN0aW5hdGlvbiktPlxuXG5cdGdldF9nYXA6LT5cblx0XHRpZiAhQG5leHQgdGhlbiByZXR1cm4gMTgwXG5cdFx0Z2FwID0gQG5leHQubG9jIC0gQGxvY1xuXHRcdGlmIF8ubHRlIGdhcCwwIHRoZW4gXy5hZGQgZ2FwLDM2MCBlbHNlIGdhcFxuXG5cdGV4aXQ6IC0+XG5cdFx0W0BuZXh0LCBAdF9leCwgQGV4aXRlZF0gPSBbdW5kZWZpbmVkLCBTLnRpbWUsIHRydWVdXG5cblx0ZXZhbF9jb3N0OiAtPlxuXHRcdEBzZCA9IEB0X2V4IC0gUy53aXNoXG5cdFx0QHNwID0gTWF0aC5tYXgoIC1TLmJldGEgKiBAc2QsIFMuZ2FtbWEgKiBAc2QpXG5cdFx0QHR0ID0gQHRfZXggLSBAdF9lblxuXHRcdEBjb3N0ID0gIEB0dCtAc3AgXG5cblx0Y2hvb3NlOiAtPlxuXHRcdGlmIF8ubHRlIEBjb3N0LEBjb3N0MCB0aGVuIFtAY29zdDAsQHRhcmdldF0gPSBbQGNvc3QsIEB0X2VuXVxuXG5cdGVudGVyOihAbG9jKS0+XG5cdFx0QHNldF9kZXN0aW5hdGlvbiAoQGxvYyArIEBkaXN0YW5jZSklMzYwXG5cdFx0W0Bjb3N0MCwgQGV4aXRlZCwgQHN0b3BwZWQsIEBjb2xvcl0gPSBbQGNvc3QsZmFsc2UsMCwgUy5jb2xvcnMoQGRlc3RpbmF0aW9uKV1cblxuXHRtb3ZlOiAtPlxuXHRcdGlmIEBzdG9wcGVkID4gMCB0aGVuIEBzdG9wcGVkLS1cblx0XHRlbHNlXG5cdFx0XHRpZiBfLmd0ZSBAZ2V0X2dhcCgpLFMuc3BhY2Vcblx0XHRcdFx0aWYgKEBsb2MgPSBfLmFkZChAbG9jLDEpJTM2MCkgPT0gQGRlc3RpbmF0aW9uIHRoZW4gQGV4aXQoKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRAc3RvcHBlZCA9IFMuc3RvcHBpbmdfdGltZVxuXG5tb2R1bGUuZXhwb3J0cyA9IFxuXHRDYXI6IENhclxuXHRUcmFmZmljOiBUcmFmZmljXG4iLCJkMyA9IHJlcXVpcmUgJ2QzJ1xuY29sb3JzID0gZDMuc2NhbGUubGluZWFyKClcblx0XHQuZG9tYWluIFswLCA2MCwgMTIwLCAxODAsIDI0MF1cblx0XHQucmFuZ2UgW1xuXHRcdFx0JyNGNDQzMzYnLCAjcmVkXG5cdFx0XHQnI0U5MUU2MycsICNwaW5rXG5cdFx0XHQnIzIxOTZGMycsICNibHVlXG5cdFx0XHQnIzAwQkNENCcsICNjeWFuXG5cdFx0XHQnIzRDQUY1MCcsICNncmVlblxuXHRcdFx0XVxuXG5TID0gXG5cdG51bV9jYXJzOiA2MFxuXHR0aW1lOiAwXG5cdHNwYWNlOiA1XG5cdHBhY2U6IC4wMjVcblx0c3RvcHBpbmdfdGltZTogNlxuXHRkaXN0YW5jZTogMjhcblx0YmV0YTogLjVcblx0Z2FtbWE6IDJcblx0cnVzaF9sZW5ndGg6IDEwMFxuXHR3aXNoOiA1MFxuXHRkYXk6IDBcblx0YWR2YW5jZTogLT5cblx0XHRAdGltZSsrXG5cdHJlc2V0X3RpbWU6IC0+XG5cdFx0QHRpbWUgPSAwXG5cdGNvbG9yczogY29sb3JzXG5cbm1vZHVsZS5leHBvcnRzID0gUyJdfQ==
